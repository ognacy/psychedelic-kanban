/**
 * Psychedelic Visual Effects
 *
 * This file contains all the CSS animations and effects that create
 * the trippy, LSD-inspired aesthetic of the application.
 *
 * Design Philosophy:
 * - All animations use CSS (not JavaScript) for GPU acceleration
 * - Effects are layered using pseudo-elements and z-index
 * - Colors are defined as CSS variables for consistency
 * - Animation durations are varied to create organic, non-repetitive feel
 * - Pointer-events: none on overlays ensures interactivity passes through
 */

/* ==========================================================================
   KEYFRAME ANIMATIONS
   Each animation is designed to loop seamlessly and can be combined
   with others for complex visual effects.
   ========================================================================== */

/**
 * Animated gradient position shift.
 * Used on backgrounds with background-size: 200% to create flowing effect.
 * 15s duration is slow enough to be subtle but noticeable.
 */
@keyframes fractal-bg {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/**
 * Continuous hue rotation.
 * Applied to elements to cycle through the entire color spectrum.
 * 30s duration prevents motion sickness while maintaining psychedelic feel.
 */
@keyframes hue-rotate-infinite {
  0% { filter: hue-rotate(0deg); }
  100% { filter: hue-rotate(360deg); }
}

/**
 * Rainbow glow cycle for text.
 * Cycles through 4 color combinations using layered text-shadows.
 * Multiple shadow layers create the characteristic "glow" effect.
 */
@keyframes pulse-glow {
  0%, 100% {
    text-shadow:
      0 0 5px var(--acid-pink),
      0 0 10px var(--acid-cyan),
      0 0 20px var(--acid-yellow),
      0 0 40px var(--acid-green);
  }
  25% {
    text-shadow:
      0 0 5px var(--acid-cyan),
      0 0 10px var(--acid-yellow),
      0 0 20px var(--acid-green),
      0 0 40px var(--acid-purple);
  }
  50% {
    text-shadow:
      0 0 5px var(--acid-yellow),
      0 0 10px var(--acid-green),
      0 0 20px var(--acid-purple),
      0 0 40px var(--acid-pink);
  }
  75% {
    text-shadow:
      0 0 5px var(--acid-green),
      0 0 10px var(--acid-purple),
      0 0 20px var(--acid-pink),
      0 0 40px var(--acid-cyan);
  }
}

/**
 * Subtle rotation and scale wobble.
 * Creates organic, "breathing" movement.
 * Small values (1-2 degrees, 1-2% scale) keep it subtle.
 */
@keyframes wobble {
  0%, 100% { transform: rotate(-1deg) scale(1); }
  25% { transform: rotate(1deg) scale(1.01); }
  50% { transform: rotate(-0.5deg) scale(0.99); }
  75% { transform: rotate(0.5deg) scale(1.02); }
}

/**
 * Pulsing scale animation with opacity.
 * Simulates organic "breathing" movement.
 */
@keyframes breathe {
  0%, 100% { transform: scale(1); opacity: 0.8; }
  50% { transform: scale(1.05); opacity: 1; }
}

/**
 * Random-looking position drift.
 * Uses asymmetric keyframe values to avoid obvious loops.
 * Applied to floating elements for dreamlike movement.
 */
@keyframes drift {
  0%, 100% { transform: translateX(0) translateY(0); }
  25% { transform: translateX(3px) translateY(-2px); }
  50% { transform: translateX(-2px) translateY(3px); }
  75% { transform: translateX(-3px) translateY(-1px); }
}

/**
 * Rainbow border color cycle.
 * Each keyframe at ~16% intervals (100/6 colors).
 * Includes matching box-shadow for glow effect.
 * Inset shadow creates inner glow.
 */
@keyframes kaleidoscope {
  0% {
    border-color: var(--acid-pink);
    box-shadow:
      0 0 10px var(--acid-pink),
      inset 0 0 20px rgba(255, 0, 255, 0.3);
  }
  16% {
    border-color: var(--acid-orange);
    box-shadow:
      0 0 10px var(--acid-orange),
      inset 0 0 20px rgba(255, 102, 0, 0.3);
  }
  33% {
    border-color: var(--acid-yellow);
    box-shadow:
      0 0 10px var(--acid-yellow),
      inset 0 0 20px rgba(255, 255, 0, 0.3);
  }
  50% {
    border-color: var(--acid-green);
    box-shadow:
      0 0 10px var(--acid-green),
      inset 0 0 20px rgba(0, 255, 0, 0.3);
  }
  66% {
    border-color: var(--acid-cyan);
    box-shadow:
      0 0 10px var(--acid-cyan),
      inset 0 0 20px rgba(0, 255, 255, 0.3);
  }
  83% {
    border-color: var(--acid-purple);
    box-shadow:
      0 0 10px var(--acid-purple),
      inset 0 0 20px rgba(153, 0, 255, 0.3);
  }
  100% {
    border-color: var(--acid-pink);
    box-shadow:
      0 0 10px var(--acid-pink),
      inset 0 0 20px rgba(255, 0, 255, 0.3);
  }
}

/**
 * Slow continuous rotation.
 * 120s duration = 2 minutes per rotation.
 * Used for fractal overlay pattern.
 */
@keyframes fractal-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* ==========================================================================
   SCREEN CONTAINER
   The main wrapper that creates the cosmic background effect.
   ========================================================================== */

/**
 * Base container with layered gradient background.
 *
 * Design Technique: Multiple radial-gradients stacked to create
 * nebula-like color pools. The linear-gradient provides base darkness.
 * background-size: 200% enables the position animation.
 */
.crt-screen {
  position: relative;
  min-height: 100vh;
  background:
    /* Pink nebula - bottom left */
    radial-gradient(ellipse at 20% 80%, rgba(255, 0, 255, 0.15) 0%, transparent 50%),
    /* Cyan nebula - top right */
    radial-gradient(ellipse at 80% 20%, rgba(0, 255, 255, 0.15) 0%, transparent 50%),
    /* Yellow accent - center left */
    radial-gradient(ellipse at 40% 40%, rgba(255, 255, 0, 0.1) 0%, transparent 40%),
    /* Green accent - center right */
    radial-gradient(ellipse at 60% 60%, rgba(0, 255, 0, 0.1) 0%, transparent 40%),
    /* Base gradient - dark void */
    linear-gradient(135deg, var(--void-black) 0%, var(--void-purple) 50%, var(--void-blue) 100%);
  background-size: 200% 200%;
  animation: fractal-bg 15s ease infinite;
  overflow: hidden;
}

/**
 * Fractal overlay using conic gradients.
 *
 * Design Technique: Three overlapping conic gradients with different
 * starting angles and center points create complex interference patterns.
 * The element is 200% size and offset -50% to enable rotation from center.
 * Very low opacity (0.03) keeps it subtle.
 */
.crt-screen::before {
  content: '';
  position: fixed;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background-image:
    repeating-conic-gradient(
      from 0deg at 50% 50%,
      transparent 0deg,
      rgba(255, 0, 255, 0.03) 10deg,
      transparent 20deg
    ),
    repeating-conic-gradient(
      from 45deg at 30% 70%,
      transparent 0deg,
      rgba(0, 255, 255, 0.03) 15deg,
      transparent 30deg
    ),
    repeating-conic-gradient(
      from 90deg at 70% 30%,
      transparent 0deg,
      rgba(255, 255, 0, 0.03) 12deg,
      transparent 24deg
    );
  animation: fractal-spin 120s linear infinite;
  pointer-events: none; /* Allow clicks through */
  z-index: 1;
}

/**
 * Scanline overlay effect.
 *
 * Design Technique: Repeating linear gradient creates horizontal lines.
 * 2px transparent + 2px dark = 4px repeat.
 * High z-index ensures it appears above content.
 * Hue rotation adds color shifting to the scanlines.
 */
.crt-scanlines::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.1) 2px,
    rgba(0, 0, 0, 0.1) 4px
  );
  pointer-events: none;
  z-index: 9999;
  animation: hue-rotate-infinite 30s linear infinite;
}

/* ==========================================================================
   UTILITY CLASSES
   Reusable effect classes that can be applied to any element.
   ========================================================================== */

/**
 * Rainbow gradient text.
 * Uses background-clip: text technique for gradient fill.
 * Combined wobble animation adds organic movement.
 */
.acid-text {
  background: linear-gradient(
    90deg,
    var(--acid-pink),
    var(--acid-orange),
    var(--acid-yellow),
    var(--acid-green),
    var(--acid-cyan),
    var(--acid-purple),
    var(--acid-pink)
  );
  background-size: 200% auto;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: fractal-bg 3s linear infinite, wobble 4s ease-in-out infinite;
}

/**
 * Pulsing glow effect for text.
 * Combines color-shifting glow with subtle position drift.
 */
.glow-text {
  color: #fff;
  animation: pulse-glow 2s ease-in-out infinite, drift 6s ease-in-out infinite;
}

/**
 * Animated border with rainbow color cycling.
 * Includes outer glow via box-shadow.
 */
.fractal-border {
  border: 3px solid var(--acid-pink);
  animation: kaleidoscope 4s linear infinite;
  position: relative;
}

/**
 * Double border effect using pseudo-element.
 * Reverse animation creates interference pattern with parent.
 */
.fractal-border::before {
  content: '';
  position: absolute;
  top: -5px;
  left: -5px;
  right: -5px;
  bottom: -5px;
  border: 1px solid;
  border-image: linear-gradient(
    45deg,
    var(--acid-pink),
    var(--acid-cyan),
    var(--acid-yellow),
    var(--acid-green)
  ) 1;
  animation: kaleidoscope 4s linear infinite reverse;
  pointer-events: none;
}

/**
 * Simple breathing/pulsing animation.
 */
.breathe {
  animation: breathe 3s ease-in-out infinite;
}

/**
 * Hover effect with scale, rotation, and color shift.
 * Transition on base state, transform on hover.
 */
.chaos-hover {
  transition: all 0.3s ease;
}

.chaos-hover:hover {
  transform: scale(1.1) rotate(2deg);
  filter: hue-rotate(90deg) saturate(2);
}
